#+TITLE: I3blocks config
#+AUTHOR: Kuhy
#+PROPERTY: header-args+ :comments yes
#+PROPERTY: header-args+ :mkdirp yes
#+PROPERTY: header-args+ :tangle "~/.config/i3blocks/config"
#+OPTIONS: prop:t

#+INCLUDE: "../variables.org"

* Global
#+BEGIN_SRC conf
command=printf "%s<span font=''> </span>%s\n" $ICON "$(eval $EXEC)"
align=center
markup=pango
#+END_SRC

* Time
#+BEGIN_SRC conf
[Time]
ICON=
EXEC=date '+%a %d.%m. %T'
interval=1
min_width=250
#+END_SRC

* Keyboard
#+BEGIN_SRC conf
[Keyboard]
ICON=
EXEC=swaymsg -t get_inputs | grep -m 1 -o '"xkb_active_layout_name":.*",' | awk '{print  substr ($2, 2, 2)}'
interval=1
min_width=70
#+END_SRC

* Volume
#+BEGIN_SRC conf
[volume]
ICON=
EXEC=amixer | grep -m 1 -o -E [[:digit:]]+% | tr -d "%"
interval=1
min_width=70
#+END_SRC

* Battery
#+BEGIN_SRC conf
[battery]
ICON=
EXEC=cat /sys/class/power_supply/BAT0/capacity
interval=10
min_width=70
#+END_SRC
